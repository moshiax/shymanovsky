<HTML>

<!-- Mirrored from shymanovsky.mooo.com/yggdrasil.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 Jan 2025 08:09:54 GMT -->
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<TITLE>(с)*** JES 2019 *** Юрий Шимановский</TITLE>
</HEAD>
<body bgcolor=#ffffffff>
</font>
<PRE>

          Добавочные ipv6 адреса для yggdrasil сервера

  Этот вопрос часто задают, но почему-то внятной инструкции никто еще не
написал. Исправляю это упущение.
  Итак, вы установили поддержку yggdrasil сети, и хотите дать своему
серверу дополнительные IP.

1. Сперва найдите свой текущий ipv6 адрес:
<b>
$ ifconfig tun0
</b>
Вы увидите что-то вроде этого.
<b>
tun0: flags=4305<UP,POINTOPOINT,RUNNING,NOARP,MULTICAST>  mtu 65535
        inet6 fe80::a67a:4b6c:c99f:39d4  prefixlen 64  scopeid 0x20<link>
        inet6 201:8538:fde:5d90:2226:c723:5d60:a034  prefixlen 7  scopeid 0x0<global>
        unspec 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  txqueuelen 500
</b>
Ваш IP всегда начинается на двойку. Вот он:
<b>
       201:8538:fde:5d90:2226:c723:5d60:a034
</b>
2. Теперь создайте себе дополнительный адрес по сдедующему правилу:
   В первой секции "2" замените на "3", а остальные три секции оставьте без
   изменения:
<b>   
       301:8538:fde:5d90
</b>
   Еще четыре секции допишите "от фонаря", используя цифры от 0 до 9 и
   буквы от "a" до "f". По четыре знака в секции. И у вас получится примерно
   так:
<b>
       301:8538:fde:5d90:3393:67ae:fd60:1200
</b>    
   Это и будет ваш новый ipv6 адрес. Можно придумать более короткие IP с 
   удвоенными двоеточиями - "::", но для простоты дела мы это оставим.
   Желающие могут обратиться к Яндексу и узнать о сокращениях.

3. Ну, в общем-то и все. Добавляем новый IP в систему:
<b>
   sudo ifconfig tun0 inet6 add 301:8538:fde:5d90:3393:67ae:fd60:1200/64
</b>
4. Проверяем:
<b>
$ ifconfig tun0
</b>
  И видим:
<b>
tun0: flags=4305<UP,POINTOPOINT,RUNNING,NOARP,MULTICAST>  mtu 65535
        inet6 fe80::a67a:4b6c:c99f:39d4  prefixlen 64  scopeid 0x20<link>
        inet6 301:8538:fde:5d90:3393:67ae:fd60:1200  prefixlen 7  scopeid 0x0<global>
        inet6 201:8538:fde:5d90:2226:c723:5d60:a034  prefixlen 7  scopeid 0x0<global>
        unspec 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  txqueuelen 500 
</b> 

Как вы понимаете, таким образом можно создать практически бесконечное
количество адресов. Точнее, ровно 18446744073709551616 штук.

</PRE>
<center>
<a href="continue.html">Назад</a>|<a href="index-2.html">На главную</a>
</center>

</body>

<!-- Mirrored from shymanovsky.mooo.com/yggdrasil.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 31 Jan 2025 08:09:54 GMT -->
</HTML>
